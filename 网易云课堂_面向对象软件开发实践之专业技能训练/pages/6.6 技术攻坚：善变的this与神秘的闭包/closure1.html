
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<h2 id="time"></h2>
		<script type="text/javascript">
			var func1 = function() {
				var counter = 0;
				
				var innerFunc = function() {
					console.log(this.name);
					counter++;
					console.log(counter);
				}
				
				return {
					"name": "haha",
					"hahaFunc": innerFunc

				}; // 这么做的目的是把在func1语句块内的方法能在外部执行
			}
			
			for (var i = 0; i < 5; i++) {
				func1().hahaFunc(); // func1() 是hahaFunc()的“上下文”
				/**
				 * 遵循谁调用，this指向谁
				 */
				/**
				 * 打印 5 个1
				 * 在循环中，每次func1执行，都构造了一个上下文环境，counter=0
				 */
			}
		</script>
	</body>
</html>
